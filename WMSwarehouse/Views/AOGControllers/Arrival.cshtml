
@{
    ViewData["Title"] = "Arrival";
    Layout = "~/Views/Shared/_LayoutPage1.cshtml";
}

<link href="~/layui-v2.5.6/layui/css/layui.css" rel="stylesheet" />
<script src="~/layui-v2.5.6/layui/layui.js"></script>
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/layui-v2.5.6/layui/lay/modules/layer.js"></script>
<link href="~/layui-v2.5.6/layui/css/modules/layer/default/layer.css" rel="stylesheet" />




<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>入库明细</legend>
</fieldset>

<div class="layui-tab">
    <ul class="layui-tab-title">
        <li class="layui-this">首页</li>
        <li>采购入库</li>
        <li>调拨单审核</li>
    </ul>
    <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">

            <div class="layui-form-item" style="">
                <div class="layui-input-inline">
                    <div class="layui-form-item" style="width:300px;">
                        <label class="layui-form-label" style="width:100px">采购订单：</label>
                        <div class="layui-input-block">
                            <input id="txtDen" name="title" class="layui-input" type="text" placeholder="请输入订单号" autocomplete="off" lay-verify="title">
                        </div>
                    </div>
                </div>
                <div class="layui-input-inline" style="margin-left:90px">
                    <div class="layui-form-item" style="width:300px;">
                        <label class="layui-form-label" style="width:100px">到货单号：</label>
                        <div class="layui-input-block">
                            <input id="txtDen" name="title" class="layui-input" type="text" placeholder="请输入到货单号" autocomplete="off" lay-verify="title">
                        </div>
                    </div>
                </div>
                <div class="layui-input-inline" style="margin-left:90px">
                    <div class="layui-form-item" style="width:300px;">
                        <label class="layui-form-label" style="width:100px">采购入库：</label>
                        <div class="layui-input-block">
                            <input id="txtDen" name="title" class="layui-input" type="text" placeholder="请输入采购入库单号" autocomplete="off" lay-verify="title">
                        </div>
                    </div>
                </div>

                <form class="layui-form" action="">
                    <label class="layui-form-label" style="width:100px;margin-left:90px">添加类型</label>
                    <div class="layui-input-inline">
                        <select name="modules" lay-search="" id="quiz1" lay-verify="required">
                            <option value="">请选择类型</option>
                            <option value="">快捷流程</option>
                            <option value="">标准流程</option>
                        </select>
                    </div>
                </form>

                <form class="layui-form" action="">
                    <label class="layui-form-label" style="width:100px;margin-left:0px">入库状态</label>
                    <div class="layui-input-inline">
                        <select name="modules" lay-search="" id="quiz1" lay-verify="required" style="width:80px">
                            <option value="">请选择类型</option>
                            <option value="">全部入库</option>
                            <option value="">部分入库</option>
                            <option value="">未入库</option>
                        </select>
                    </div>
                </form>

            </div>

            <div class="layui-form-item">
                <div class="layui-input-inline">
                    <div class="layui-form-item" style="width:300px;">
                        <label class="layui-form-label" style="width:100px">供应商：</label>
                        <div class="layui-input-block">
                            <input id="txtDen" name="title" class="layui-input" type="text" placeholder="请输入供应商" autocomplete="off" lay-verify="title">
                        </div>
                    </div>
                </div>
                <div class="layui-input-inline" style="margin-left:90px">
                    <div class="layui-form-item" style="width:300px;">
                        <label class="layui-form-label" style="width:100px">到货单号：</label>
                        <div class="layui-input-block">
                            <input id="txtDen" name="title" class="layui-input" type="text" placeholder="请输入到货单号" autocomplete="off" lay-verify="title">
                        </div>
                    </div>
                </div>

                <div class="layui-inline" style="margin-left: 117px">
                    <label class="layui-form-label" style="width:100px">采购日期</label>
                    <div class="layui-input-inline">
                        <input class="layui-input" id="test10" type="text" placeholder=" - ">
                    </div>
                </div>

                <button id="btnCha" class="layui-btn layui-btn-sm layui-btn-normal" data-type="btnCha" style="margin-bottom:10px" type="button"> <i class="layui-icon layui-icon-search"></i> 查询</button>
                <div style="float:right;margin-right:400px">
                    <SCRIPT LANGUAGE="JavaScript">
                        if (window.print) { document.write('<form>' + ' <button class="layui-btn layui-btn-big" name=print value="打印" ' + 'onClick="javascript:window.print()" style="float:right">打印</button></form>') }
                    </SCRIPT>
                </div>
            </div>

            <div style="background-color:aliceblue">
                <i class="layui-icon layui-icon-spread-left" style="font-size:25px;color:black">数据列表</i>
                <table class="layui-hide" id="test" lay-filter="test"></table>
            </div>
        </div>
        <div class="layui-tab-item">
            <div style="margin-top:20px">
                <label> 快捷到货登记（DH001）</label>
                <hr />
            </div>
            <div>
                <label style="margin-top:18px;margin-left:20px"> 到货单号:<label id="CDan">DH190213000008</label> </label>
                <label style="margin-top:18px;margin-left:100px"> 采购订单号:<label id="CSang">KJCGD190213000008</label> </label>
                <label style="margin-top:18px;margin-left:100px"> 供应商:<label id="CSang">王朝 </label> </label>
                <br />
                <label style="margin-top:18px;margin-left:20px"> 卸货库区:<label id="CSang">成都总仓 </label> </label>
                <label style="margin-top:18px;margin-left:100px"> 到货日期:<label id="CSang">2021-05-09 00:00:00.0000000 </label> </label>
            </div>

            <div style="background-color:aliceblue">
                <i class="layui-icon layui-icon-spread-left" style="font-size:25px;color:black">数据列表</i>
                <table class="layui-hide" id="tbsb" lay-filter="tbsb"></table>
            </div>
            <button class="layui-btn layui-btn-big" id="btnJiao"  style="margin-top:80px;margin-left:500px">提交入库</button>
        </div>
            <div class="layui-tab-item">内容3</div>
        </div>
</div>

<script>


    layui.use('table', function () {
        var table = layui.table;

        table.render({
            elem: '#test'
            , url: 'http://localhost:52098/api/AOGShowAsync'
            , title: '文章管理'
            , method: 'get'
            , id: 'testReload'
            , cols: [[
                { type: 'checkbox' }
                , { field: 'Purchasing_Id', width: 130, title: '序号', sort: true }
                , { field: 'Ordernumber', width: 170, title: '采购单号' }
                , { field: 'SName', width: 170, title: '供应商名称', sort: true }
                , { field: 'Classes', width: 160, title: '产品品类' }
                , { field: 'Purchasedate', width: 150, title: '采购日期' }
                , { field: 'Agent', width: 150, title: '采购人', sort: true }
                , { field: 'State', width: 150, title: '入库状态', sort: true }
                , { field: 'wealth', width: 350, title: '操作', toolbar: '#barDome' }
            ]]
            , page: true
            , limit: 10
            , limits: [10, 20]
        });

        table.render({
            elem: '#tbsb'
            , url: 'http://localhost:52098/api/AOGShowAsync'
            , title: '文章管理'
            , method: 'get'
            , id: 'testReload'
            , cols: [[
                { type: 'checkbox' }
                , { field: 'Purchasing_Id', width: 130, title: '序号', sort: true }
                , { field: 'Ordernumber', width: 170, title: '采购单号' }
                , { field: 'SName', width: 170, title: '供应商名称', sort: true }
                , { field: 'Classes', width: 160, title: '产品品类' }
                , { field: 'Purchasedate', width: 150, title: '采购日期' }
                , { field: 'Agent', width: 150, title: '采购人', sort: true }
                , { field: 'State', width: 150, title: '入库状态', sort: true }
                , { field: 'wealth', width: 350, title: '操作', toolbar: '#barDome' }
            ]]
            , page: true
            , limit: 10
            , limits: [10, 20]
        });

    });

         

    layui.use('element', function () {
        var $ = layui.jquery
            , element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块

        layui.use(['form', 'layedit', 'laydate'], function () {
            var form = layui.form;
            $.ajax({
                url: '',
                dataType: 'json',
                type: 'get',
                success: function (data) {
                    $.each(data, function (index, item) {
                        $('#quiz1').append(new Option(item.Classes, item.Pid));// 下拉菜单里添加元素
                    });
                    layui.form.render("select");
                    //重新渲染 固定写法
                }
            })
        })

        layui.use('laydate', function () {
            var laydate = layui.laydate;
            //日期时间范围
            laydate.render({
                elem: '#test10'
                , type: 'datetime'
                , range: true
            });
        });
           
    });

    $("#btnJiao").click(function () {
        window.location.href = "/AOGControllers/AOGShow";
    })
    
</script>